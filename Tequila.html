<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tequila — OBÍRÍ</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <style>
    .menu-toggle{
      display:flex;
      justify-content:center;
      gap:.6rem;
      flex-wrap:wrap;
      margin:1rem auto 1.2rem;
      max-width:1100px;
      padding:0 .6rem;
    }
    .menu-toggle a{
      padding:.55rem 1rem;
      border-radius:8px;
      font-weight:800;
      text-decoration:none;
      background:#0f0f0f;
      border:1px solid var(--gold-deep);
      color:var(--gold-solid);
      transition:box-shadow .2s ease, transform .08s ease;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:3px;
      min-width:140px;
      text-align:center;
    }
    .menu-toggle a:hover{ box-shadow:0 0 10px rgba(232,193,49,.22); }
    .menu-toggle a:active{ transform:scale(.98); box-shadow:inset 0 -2px 0 var(--gold-mid),0 0 10px rgba(232,193,49,.45); }
    .menu-toggle .label-main{ display:block; font-size:0.95rem; line-height:1; }
    .menu-toggle .label-sub{ display:block; font-size:0.78rem; font-weight:700; color:var(--muted); opacity:.95; }
    .food-info p small{ font-weight:600; opacity:.9; }
    .menu-toggle a:active::after{ opacity:1 }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="animate__animated animate__fadeInDown">
    <img src="images/obiri.png" alt="OBÍRÍ Restaurant & Lounge Logo" class="logo" />
  </header>

  <!-- Banner -->
  <div class="menu-banner"><h2>DRINKS MENU</h2></div>

  <!-- Quick jump back to Drinks -->
  <nav class="menu-toggle" aria-label="Back to Drinks">
    <a href="./drinks.html"><span class="label-main">← Back to Drinks</span></a>
  </nav>

  <main>
    <section class="section active" aria-labelledby="tequila-title">
      <h3 id="tequila-title" class="hero-title" style="text-align:center; margin:0 0 1rem;">
        Tequila
      </h3>
      <div class="food-grid">
        <div class="food-card">
          <img src="images/obiri-tequila-shot.jpg" alt="Tequila Shot" />
          <div class="food-info">
            <h4>Shot</h4>
            <p id="price-shot"></p>
          </div>
        </div>
        <div class="food-card">
          <img src="images/obiri-tequila-bottle.jpg" alt="Tequila Bottle" />
          <div class="food-info">
            <h4>Bottle</h4>
            <p id="price-bottle"></p>
          </div>
        </div>
      </div>
    </section>
    <div class="tray-note">Takeout ₦500</div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav" aria-label="Primary">
    <a href="./index.html">Home</a>
    <a href="./food.html">Food</a>
    <a href="./drinks.html" class="active">Drinks</a>
    <a href="./contact.html">Contact</a>
  </nav>

  <!-- Hover script (unchanged) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cards = document.querySelectorAll('.food-card');
      cards.forEach(card => {
        card.addEventListener('mousemove', e => {
          const rect = card.getBoundingClientRect();
          card.style.setProperty('--mouse-x', (e.clientX - rect.left) + 'px');
          card.style.setProperty('--mouse-y', (e.clientY - rect.top) + 'px');
        });
        card.addEventListener('mouseleave', () => {
          card.style.removeProperty('--mouse-x');
          card.style.removeProperty('--mouse-y');
        });
      });
    });

    // === LIVE PRICE INJECTION ===
    const ENDPOINT = 'https://script.google.com/macros/s/AKfycbzglCNUwMTg89aylX0vfv5_w9N1x2Ay1JKtNCq2AiP64vJ8ZuJjzaL9oHipM_-yJmxsww/exec';
    const TOKEN = 'Forgive1988@';
    function formatNaira(amount) {
      if(!amount || isNaN(amount)) return '₦0';
      return '₦' + Number(amount).toLocaleString();
    }
    function getIdFromName(name) {
      return 'price-' + name.replace(/\s+\(.*\)/, '').replace(/[^a-z0-9]/gi,'-').replace(/-+/g,'-').toLowerCase();
    }
    function injectPrices() {
      fetch(`${ENDPOINT}?token=${TOKEN}`)
        .then(res => res.json())
        .then(result => {
          if(result.ok) {
            result.rows.forEach(item => {
              if(item.type==="Drinks" && item.cat && item.cat.toLowerCase().includes("tequila") && item.available && item.name) {
                let id = getIdFromName(item.name);
                let elem = document.getElementById(id);
                if(elem) elem.textContent = formatNaira(item.price);
              }
            });
          }
        });
    }
    document.addEventListener('DOMContentLoaded', injectPrices);
  </script>
</body>
</html>

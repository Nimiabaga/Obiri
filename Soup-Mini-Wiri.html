<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Soups — OBÍRÍ</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <style>
    .menu-toggle{
      display:flex;
      justify-content:center;
      gap:.6rem;
      flex-wrap:wrap;
      margin:1rem auto 1.2rem;
      max-width:980px;
      padding:0 .6rem;
    }
    .menu-toggle a{
      padding:.55rem 1rem;
      border-radius:8px;
      font-weight:800;
      text-decoration:none;
      background:#0f0f0f;
      border:1px solid var(--gold-deep);
      color:var(--gold-solid);
      transition:box-shadow .2s ease, transform .08s ease;
      display:flex; flex-direction:column; align-items:center; gap:3px;
      min-width:140px; text-align:center;
    }
    .menu-toggle a:hover{ box-shadow:0 0 10px rgba(232,193,49,.22); }
    .menu-toggle a:active{ transform:scale(.98); box-shadow:inset 0 -2px 0 var(--gold-mid),0 0 10px rgba(232,193,49,.45); }
    .menu-toggle .label-main{ display:block; font-size:0.95rem; line-height:1; }
    .menu-toggle .label-sub{ display:block; font-size:0.78rem; font-weight:700; color:var(--muted); opacity:.95; }
    .food-info p small{ font-weight:600; opacity:.9; }
    .menu-toggle a:active::after{ opacity:1 }
    .soldout-label {
      color: #fff;
      background: #d91e1e;
      border-radius: 0.35em;
      padding: 0.07em 0.5em;
      font-weight: bold;
      margin-left: 0.6em;
      font-size: 0.97em;
      vertical-align: middle;
      display: inline-block;
    }
    .food-card.soldout { opacity: 0.48; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="animate__animated animate__fadeInDown">
    <img src="images/obiri.png" alt="OBÍRÍ Restaurant & Lounge Logo" class="logo" />
  </header>
  <!-- Banner (match other pages) -->
  <div class="menu-banner"><h2>FOOD MENU</h2></div>
  <!-- Category chips (same links/casing as other pages) -->
  <nav class="menu-toggle" role="navigation" aria-label="Food categories">
    <a href="./Soup-Mini-Wiri.html">
      <span class="label-main">Soups</span>
      <span class="label-sub">(Mini-wiri)</span>
    </a>
    <a href="./Proteins.html"><span class="label-main">Proteins</span></a>
    <a href="./Pepper-dem-Anu-Gworogwu.html">
      <span class="label-main">PEPPER DEM</span>
      <span class="label-sub">(Anu-Gworogwu)</span>
      <span class="label-sub">(Bites)</span>
    </a>
    <a href="./Rice-Arusi.html">
      <span class="label-main">Rice</span>
      <span class="label-sub">(Arusi)</span>
    </a>
    <a href="./pepper-soup.html">
      <span class="label-main">Pepper Soup</span>
      <span class="label-sub">(Mini-wiri Gorogoro)</span>
    </a>
    <a href="./Barbeque.html"><span class="label-main">Barbeque</span></a>
    <a href="./Swallow-otara.html">
      <span class="label-main">Swallow</span>
      <span class="label-sub">(Otara)</span>
    </a>
  </nav>
  <main>
    <!-- Soups (Mini-Wiri) -->
    <section aria-labelledby="mini-wiri-title">
      <h3 id="mini-wiri-title" class="hero-title" style="text-align:center; margin:0 0 1rem;">
        Soups (Mini-Wiri)
      </h3>
      <div class="food-grid">
        <div class="food-card" id="card-afang">
          <img src="images/obiri-afang.jpg" alt="Afang Soup" />
          <div class="food-info"><h4>Afang</h4><p id="price-afang"></p></div>
        </div>
        <div class="food-card" id="card-egusi">
          <img src="images/obiri-egusi.jpg" alt="Egusi Soup" />
          <div class="food-info"><h4>Egusi</h4><p id="price-egusi"></p></div>
        </div>
        <div class="food-card" id="card-ogbono">
          <img src="images/obiri-ogbono.jpg" alt="Ogbono Soup" />
          <div class="food-info"><h4>Ogbono</h4><p id="price-ogbono"></p></div>
        </div>
        <div class="food-card" id="card-ofe-onugbu-bitterleaf">
          <img src="images/obiri-ofe-onugbu.jpg" alt="Ofe Onugbu (Bitterleaf) Soup" />
          <div class="food-info"><h4>Ofe Onugbu<br><small>(Bitterleaf)</small></h4><p id="price-ofe-onugbu-bitterleaf"></p></div>
        </div>
        <div class="food-card" id="card-oha">
          <img src="images/obiri-oha.jpg" alt="Oha Soup" />
          <div class="food-info"><h4>Oha</h4><p id="price-oha"></p></div>
        </div>
        <div class="food-card" id="card-okra">
          <img src="images/obiri-okra.jpg" alt="Okra Soup" />
          <div class="food-info"><h4>Okra</h4><p id="price-okra"></p></div>
        </div>
        <div class="food-card" id="card-banga">
          <img src="images/obiri-banga.jpg" alt="Banga Soup" />
          <div class="food-info"><h4>Banga</h4><p id="price-banga"></p></div>
        </div>
        <div class="food-card" id="card-ofensala">
          <img src="images/obiri-ofensala.jpg" alt="Ofensala Soup" />
          <div class="food-info"><h4>Ofensala</h4><p id="price-ofensala"></p></div>
        </div>
        <div class="food-card" id="card-native-soup">
          <img src="images/obiri-native-soup.jpg" alt="Native Soup" />
          <div class="food-info"><h4>Native Soup</h4><p id="price-native-soup"></p></div>
        </div>
      </div>
    </section>
    <!-- Signature Pots -->
    <section aria-labelledby="signature-pots-title">
      <h3 id="signature-pots-title" class="hero-title" style="text-align:center; margin:1.25rem 0 1rem;">
        OBÍRÍ SPECIAL (Signature Pots)
      </h3>
      <div class="food-grid">
        <div class="food-card" id="card-ikwerre-okazi">
          <img src="images/obiri-ikwerre-okazi.jpg" alt="Ikwerre Okazi (Mini-Wiri Okazi)" />
          <div class="food-info">
            <h4>Ikwerre Okazi<br>
              <small>(Goat assorted, Ngolo, Periwinkle & dried fish or dried meat)</small>
            </h4>
            <p id="price-ikwerre-okazi"></p>
          </div>
        </div>
        <div class="food-card" id="card-fisherman-soup-red-snapper-head">
          <img src="images/obiri-fisherman-soup-head.jpg" alt="Fisherman Soup with Red Snapper Head" />
          <div class="food-info">
            <h4>Fisherman Soup<br><small>(Red Snapper Head)</small></h4>
            <p id="price-fisherman-soup-red-snapper-head"></p>
          </div>
        </div>
        <div class="food-card" id="card-seafood-okra-red-snapper-head">
          <img src="images/obiri-seafood-okra-head.jpg" alt="Seafood Okra with Red Snapper — Head (fresh/dried)" />
          <div class="food-info">
            <h4>Seafood Okra<br><small>(Red Snapper — Head)</small></h4>
            <p id="price-seafood-okra-red-snapper-head"></p>
          </div>
        </div>
        <div class="food-card" id="card-seafood-okra-red-snapper-middle-tail">
          <img src="images/obiri-seafood-okra-midtail.jpg" alt="Seafood Okra with Red Snapper — Middle/Tail" />
          <div class="food-info">
            <h4>Seafood Okra<br><small>(Red Snapper — Middle/Tail)</small></h4>
            <p id="price-seafood-okra-red-snapper-middle-tail"></p>
          </div>
        </div>
      </div>
    </section>
    <div class="tray-note">Takeout ₦500</div>
  </main>
  <nav class="bottom-nav" aria-label="Primary">
    <a href="./index.html">Home</a>
    <a href="./food.html" class="active">Food</a>
    <a href="./drinks.html">Drinks</a>
    <a href="./contact.html">Contact</a>
  </nav>
  <script>
    const ENDPOINT = 'https://script.google.com/macros/s/AKfycbzglCNUwMTg89aylX0vfv5_w9N1x2Ay1JKtNCq2AiP64vJ8ZuJjzaL9oHipM_-yJmxsww/exec';
    const TOKEN = 'Forgive1988@';
    function formatNaira(amount) {
      if(!amount || isNaN(amount)) return '₦0';
      return '₦' + Number(amount).toLocaleString();
    }
    function getIdFromName(name) {
      return ('price-' + name
        .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-z0-9]/gi,'-')
        .replace(/-+/g,'-')
        .toLowerCase()).replace(/-$/, '');
    }
    function getCardIdFromName(name) {
      return ('card-' + name
        .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-z0-9]/gi,'-')
        .replace(/-+/g,'-')
        .toLowerCase()).replace(/-$/, '');
    }
    function injectPrices() {
      fetch(`${ENDPOINT}?token=${TOKEN}`)
        .then(res => res.json())
        .then(result => {
          if(result.ok) {
            result.rows.forEach(item => {
              if(
                item.type === 'Food' &&
                item.cat &&
                (
                  item.cat.toLowerCase().includes('soup') ||
                  item.cat.toLowerCase().includes('signature')
                )
                && item.name
              ) {
                let priceId = getIdFromName(item.name);
                let cardId = getCardIdFromName(item.name);
                let priceElem = document.getElementById(priceId);
                let cardElem = document.getElementById(cardId);
                if(priceElem && cardElem) {
                  priceElem.innerHTML = '';
                  cardElem.classList.remove('soldout');
                  if(item.available === true) {
                    priceElem.textContent = formatNaira(item.price);
                  } else {
                    priceElem.innerHTML = `${formatNaira(item.price)} <span class="soldout-label">Sold Out</span>`;
                    cardElem.classList.add('soldout');
                  }
                }
              }
            });
          }
        });
    }
    document.addEventListener('DOMContentLoaded', injectPrices);
  </script>
</body>
</html>
